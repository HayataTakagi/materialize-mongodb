i=0
allProcess=400
modelList=("Person" "Story" "Comment" "Publisher")
personIds=(10100278 10100155 10100918 10100287 10100297 10100668 10100187 10100026 10100605 10100301 10100030 10100623 10100238 10100325 10100401 10100171 10100956 10100911 10100930 10100969 10100868 10100989 10100600 10100138 10100005 10100801 10100257 10100438 10100103 10100836 10100667 10100570 10100590 10100780 10100630 10100533 10100477 10100488 10100346 10100377 10100122 10100908 10100547 10100576 10100455 10100993 10100189 10100047 10100371 10100486 10100147 10100295 10100031 10100443 10100151 10100852 10100730 10100092 10100981 10100768 10100293 10100162 10100897 10100803 10100485 10100081 10100313 10100069 10100752 10100734 10100941 10100452 10100648 10100884 10100222 10100521 10100567 10100448 10100332 10100430 10100008 10100396 10100168 10100732 10100890 10100354 10100775 10100523 10100163 10100510 10100292 10100865 10100534 10100675 10100945 10100061 10100659 10100108 10100975 10100880 10100539 10100637 10100409 10100411 10100508 10100134 10100068 10100609 10100798 10100145 10100751 10100914 10100504 10100500 10100117 10100716 10100673 10100643 10100154 10100355 10100962 10100010 10100984 10100833 10100462 10100645 10100555 10100299 10100012 10100404 10100217 10100247 10100245 10100910 10100955 10100902 10100239 10100513 10100442 10100281 10100688 10100905 10100192 10100691 10100380 10100109 10100167 10100132 10100246 10100857 10100973 10100090 10100829 10100399 10100700 10100967 10100596 10100991 10100891 10100417 10100557 10100985 10100512 10100549 10100877 10100017 10100364 10100046 10100054 10100563 10100264 10100368 10100142 10100568 10100966 10100699 10100733 10100848 10100750 10100423 10100270 10100218 10100469 10100086 10100871 10100212 10100323 10100931 10100053 10100924 10100344 10100755 10100254 10100718 10100832 10100152 10100255 10100670 10100816 10100621)
storyIds=(10200342 10200935 10200625 10200742 10200494 10200632 10200220 10200200 10200801 10200580 10200302 10200711 10200151 10200550 10200357 10200497 10200223 10200281 10200039 10200700 10200352 10200774 10200175 10200618 10200686 10200210 10200717 10200509 10200916 10200311 10200070 10200382 10200962 10200063 10200898 10200713 10200109 10200165 10200951 10200071 10200138 10200784 10200208 10200758 10200833 10200317 10200140 10200144 10200805 10200890 10200257 10200903 10200932 10200518 10200445 10200911 10200557 10200604 10200994 10200087 10200289 10200399 10200457 10200602 10200306 10200222 10200391 10200880 10200891 10200278 10200478 10200079 10200496 10200939 10200236 10200285 10200336 10200499 10200233 10200743 10200099 10200869 10200727 10200412 10200531 10200789 10200684 10200485 10200905 10200204 10200792 10200266 10200198 10200875 10200629 10200657 10200529 10200582 10200867 10200971 10200116 10200636 10200510 10200773 10200110 10200411 10200452 10200256 10200692 10200189 10200827 10200174 10200047 10200723 10200436 10200764 10200945 10200757 10200080 10200118 10200740 10200458 10200430 10200372 10200111 10200303 10200468 10200322 10200765 10200566 10200367 10200759 10200513 10200824 10200990 10200788 10200426 10200421 10200275 10200396 10200237 10200467 10200644 10200701 10200383 10200511 10200268 10200054 10200886 10200142 10200295 10200739 10200853 10200586 10200895 10200166 10200058 10200365 10200201 10200954 10200993 10200007 10200046 10200836 10200834 10200040 10200726 10200104 10200621 10200042 10200981 10200883 10200596 10200217 10200418 10200873 10200828 10200609 10200484 10200674 10200400 10200590 10200587 10200326 10200793 10200694 10200528 10200729 10200914 10200806 10200651 10200860 10200141 10200216 10200105 10200947 10200443 10200393 10200517 10200402)
commentIds=(10300069 10300409 10300587 10300205 10300992 10300840 10300398 10300262 10300735 10300449 10300255 10300783 10300152 10300657 10300622 10300739 10300910 10300859 10300643 10300561 10300917 10300177 10300547 10300960 10300715 10300313 10300297 10300314 10300150 10300008 10300431 10300082 10300577 10300971 10300814 10300517 10300330 10300927 10300142 10300368 10300414 10300244 10300367 10300261 10300621 10300806 10300175 10300925 10300994 10300137 10300299 10300337 10300317 10300869 10300386 10300325 10300855 10300522 10300728 10300975 10300350 10300744 10300741 10300877 10300173 10300010 10300370 10300115 10300002 10300847 10300802 10300423 10300454 10300193 10300004 10300264 10300072 10300797 10300968 10300467 10300239 10300709 10300057 10300556 10300998 10300535 10300930 10300761 10300048 10300120 10300436 10300291 10300284 10300019 10300718 10300771 10300574 10300634 10300114 10300680 10300103 10300290 10300988 10300413 10300551 10300852 10300437 10300287 10300158 10300191 10300546 10300445 10300240 10300539 10300295 10300845 10300220 10300770 10300906 10300798 10300344 10300488 10300356 10300980 10300915 10300811 10300335 10300204 10300593 10300392 10300018 10300760 10300080 10300045 10300759 10300958 10300111 10300471 10300640 10300897 10300462 10300083 10300867 10300733 10300983 10300095 10300624 10300809 10300148 10300190 10300793 10300940 10300548 10300786 10300946 10300967 10300033 10300629 10300849 10300668 10300117 10300066 10300068 10300943 10300292 10300319 10300172 10300729 10300500 10300928 10300195 10300613 10300850 10300607 10300685 10300893 10300676 10300495 10300673 10300041 10300302 10300601 10300499 10300714 10300228 10300393 10300272 10300942 10300385 10300862 10300055 10300028 10300073 10300130 10300710 10300285 10300210 10300310 10300707 10300559)
publisherIds=(10400274 10400596 10400604 10400791 10400425 10400809 10400165 10400133 10400590 10400350 10400815 10400102 10400228 10400926 10400078 10400266 10400116 10400175 10400919 10400718 10400819 10400478 10400506 10400392 10400251 10400927 10400202 10400030 10400077 10400289 10400315 10400361 10400373 10400006 10400996 10400483 10400111 10400988 10400521 10400378 10400424 10400688 10400942 10400410 10400973 10400971 10400226 10400730 10400513 10400799 10400337 10400797 10400273 10400147 10400299 10400609 10400912 10400491 10400600 10400537 10400632 10400645 10400801 10400138 10400191 10400893 10400206 10400860 10400415 10400654 10400760 10400203 10400729 10400115 10400384 10400955 10400607 10400840 10400869 10400262 10400706 10400487 10400917 10400400 10400548 10400156 10400990 10400035 10400280 10400945 10400348 10400157 10400199 10400215 10400015 10400140 10400301 10400091 10400139 10400613 10400877 10400894 10400913 10400511 10400916 10400093 10400518 10400063 10400833 10400871 10400128 10400825 10400218 10400909 10400172 10400855 10400309 10400347 10400380 10400863 10400312 10400098 10400677 10400933 10400890 10400000 10400656 10400805 10400830 10400131 10400583 10400234 10400770 10400847 10400660 10400865 10400595 10400235 10400790 10400849 10400826 10400822 10400263 10400661 10400643 10400778 10400897 10400094 10400100 10400409 10400598 10400807 10400673 10400552 10400546 10400433 10400669 10400397 10400740 10400394 10400950 10400531 10400839 10400429 10400328 10400938 10400480 10400983 10400204 10400269 10400499 10400270 10400421 10400200 10400205 10400316 10400563 10400242 10400824 10400407 10400249 10400188 10400903 10400016 10400870 10400474 10400725 10400850 10400892 10400904 10400558 10400650 10400484 10400744 10400232 10400911 10400562 10400040 10400566 10400184)
# 95findOne 5update
methodArray=("findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "update" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "update" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "update" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "update" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "update" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne" "findOne")
modelLength=${#modelList[@]}
for i in `seq 0 $(($allProcess-1))`
do
  countInModel=$(($i/$modelLength))
  echo allCount:$(($i+1))/${allProcess}, countInModel: ${countInModel}
  echo ${modelList[($i%$modelLength)]} ${methodArray[countInModel]}
  if [[ ${methodArray[countInModel]} == "findOne" ]]; then
    if [[ $(($i%$modelLength)) == 0 ]]; then
      curl -X POST \
        http://192.168.33.11:3000/findOne \
        -H 'Content-Type: application/json' \
        -H 'cache-control: no-cache' \
        -d "{\"modelName\":\"Person\", \"query\": {\"_id\" :${personIds[countInModel]}}, \"populate\": [], \"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    elif [[ $(($i%$modelLength)) == 1 ]]; then
      curl -X POST \
        http://192.168.33.11:3000/findOne \
        -H 'Content-Type: application/json' \
        -H 'cache-control: no-cache' \
        -d "{\"modelName\":\"Story\", \"query\": {\"_id\" :${storyIds[countInModel]}}, \"populate\": [\"author\", \"fans\", \"publication\", \"comments\"], \"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    elif [[ $(($i%$modelLength)) == 2 ]]; then
      curl -X POST \
        http://192.168.33.11:3000/findOne \
        -H 'Content-Type: application/json' \
        -H 'cache-control: no-cache' \
        -d "{\"modelName\":\"Comment\", \"query\": {\"_id\" :${commentIds[countInModel]}}, \"populate\": [\"speak.speaker\", \"story\"], \"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    elif [[ $(($i%$modelLength)) == 3 ]]; then
      curl -X POST \
        http://192.168.33.11:3000/findOne \
        -H 'Content-Type: application/json' \
        -H 'cache-control: no-cache' \
        -d "{\"modelName\":\"Publisher\", \"query\": {\"_id\" :${publisherIds[countInModel]}}, \"populate\": [], \"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    fi
  elif [[ ${methodArray[countInModel]} == "update" ]]; then
    if [[ $(($i%$modelLength)) == 0 ]]; then
      curl -X POST \
      http://192.168.33.11:3000/update \
      -H 'Content-Type: application/json' \
      -H 'cache-control: no-cache' \
      -d "{\"modelName\": \"Person\", \"query\":{ \"_id\": ${personIds[countInModel]}}, \"updateDocument\": {\"name\":\"卒研太郎124\"} ,\"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    elif [[ $(($i%$modelLength)) == 1 ]]; then
      curl -X POST \
      http://192.168.33.11:3000/update \
      -H 'Content-Type: application/json' \
      -H 'cache-control: no-cache' \
      -d "{\"modelName\": \"Story\", \"query\":{ \"_id\": ${storyIds[countInModel]}}, \"updateDocument\": {\"title\":\"卒研ストーリー124\"} ,\"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    elif [[ $(($i%$modelLength)) == 2 ]]; then
      curl -X POST \
      http://192.168.33.11:3000/update \
      -H 'Content-Type: application/json' \
      -H 'cache-control: no-cache' \
      -d "{\"modelName\": \"Comment\", \"query\":{ \"_id\": ${commentIds[countInModel]}}, \"updateDocument\": {\"speak\":{\"speaker\": 10100839, \"comment\": \"卒研頑張ろう。\"}} ,\"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    elif [[ $(($i%$modelLength)) == 3 ]]; then
      curl -X POST \
      http://192.168.33.11:3000/update \
      -H 'Content-Type: application/json' \
      -H 'cache-control: no-cache' \
      -d "{\"modelName\": \"Publisher\", \"query\":{ \"_id\": ${publisherIds[countInModel]}}, \"updateDocument\": {\"address\":\"つくば市天王台\"} ,\"processNum\": $(($i+1)) ,\"processNumAll\": ${allProcess}}"
    fi
  fi
  # if [[ $(($i%5)) == 0 ]]; then
  #   sleep 1
  #   curl -X POST \
  #   http://192.168.33.11:3000/judgeCreateMv \
  #   -H 'Content-Type: application/json' \
  #   -H 'cache-control: no-cache'
  #   sleep 1
  # fi
  echo =====
  sleep 1
done
